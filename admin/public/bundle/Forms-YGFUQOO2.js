import{c as h,e as D}from"./chunk-4TGKIISG.js";import{a as w,c as F}from"./chunk-DUWXWW73.js";import{c,d as r,f,h as B,i as S,j as T,k as j}from"./chunk-5VQXXJVA.js";import{e as k,f as o}from"./chunk-5TOVVIUE.js";import"./chunk-AQBTORL7.js";import"./chunk-T6HN2I3K.js";import"./chunk-ZDGVLX7E.js";import{d as H,e as I}from"./chunk-2ZKIS3S6.js";var e=H(I());var L=()=>{let{module:l,init:E}=w(s=>s.redux),{openForms:y,pageType:n,detailContent:d}=l,m=F(),[v,b]=(0,e.useState)(!1),[u,p]=(0,e.useState)({}),[_,g]=(0,e.useState)({});(0,e.useLayoutEffect)(()=>(n==="update"&&B(d)&&p({...d}),()=>{}),[n,d]);let N=()=>{p({}),g({})},C=()=>{N(),m(h({...l,openForms:!1,pageType:"",detailContent:{}}))},G=s=>{s.preventDefault();let i={pageType:n,user_modified:r("username",E)};Object.keys(u).forEach(a=>i[a]=u[a]),b(!0);let x=j("/submit",i);x.then(a=>{if(typeof a>"u")return;let{data:t}=a;if(typeof t.code<"u"&&r("code",t)!==200){c(!1,r("message",t));return}g(t.errors),c(t.status,t.msg_response),t.status&&(N(),m(h({...l,openForms:!1,pageType:"",detailContent:{}})),m(D({url:"/getdata",data:{}})))}),x.finally(()=>{b(!1)})};return e.default.createElement(e.default.Fragment,null,y&&e.default.createElement("div",{className:"drawer-overlay"}),e.default.createElement("div",{className:`bg-white drawer drawer-start ${y?"drawer-on":""}`,style:{width:window.innerWidth/2}},e.default.createElement(o,{className:"rounded-0 w-100"},e.default.createElement(o.Header,{className:"pe-5"},e.default.createElement("div",{className:"card-title"},e.default.createElement("div",{className:"d-flex justify-content-center flex-column me-3"},e.default.createElement("span",{className:"fs-4 fw-bold text-gray-900 text-hover-primary me-1 lh-1"},S(n)," ",document.title))),e.default.createElement("div",{className:"card-toolbar"},e.default.createElement("button",{className:"btn btn-sm btn-icon btn-active-light-primary",onClick:C},e.default.createElement("i",{className:"ki-duotone ki-cross fs-2"},e.default.createElement("span",{className:"path1"}),e.default.createElement("span",{className:"path2"}))))),e.default.createElement(o.Body,{className:"hover-scroll-overlay-y"},T("Text","text",{onChange:s=>p(i=>({...i,[s.target.name]:s.target.value})),value:r("text",u)},!0,_)),e.default.createElement(o.Footer,{className:"text-end"},e.default.createElement(k,null,f(`Simpan ${document.title}`,v,{onClick:v?null:G}),f("Batal",!1,{variant:"danger",onClick:()=>C()}))))))},W=L;export{W as default};
