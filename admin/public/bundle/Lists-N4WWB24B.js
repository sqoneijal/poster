import{a as T}from"./chunk-SJTF4NYS.js";import{c as N}from"./chunk-PB4JHPSQ.js";import{a as c,c as g}from"./chunk-DUWXWW73.js";import{c as I,d as o,e as m,q as D}from"./chunk-5VQXXJVA.js";import{f as a,g as v,i as n,m as b,n as y}from"./chunk-5TOVVIUE.js";import"./chunk-AQBTORL7.js";import"./chunk-T6HN2I3K.js";import"./chunk-ZDGVLX7E.js";import{d as j,e as w}from"./chunk-2ZKIS3S6.js";var e=j(w());var x=({totalData:u,getContent:O,listContent:d,setListContent:k})=>{let{filter:l,module:C}=c(r=>r.redux),{page:E}=l,t=(0,e.useRef)(null),_=g(),[p,h]=(0,e.useState)(!1);(0,e.useLayoutEffect)(()=>(p&&u>d.length&&O({filter:l}),()=>h(!1)),[p,E,u,d,l]),(0,e.useLayoutEffect)(()=>{let r=new IntersectionObserver(s=>{s[0].isIntersecting&&h(!0)},{threshold:1});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t,d]);let B=r=>{_(N({...C,openModalEditOrigName:!0,detailContent:r}))},H=(r,s)=>r.filter(i=>m(o("id",i))!==s),M=r=>{D({msg:`Apakah anda yakin ingin menghapus ${o("judul",r)}`,url:"/hapus",id:o("id",r),custom:{video_file:o("video_file",r)}}).then(s=>{let{data:i}=s;if(I(i.status,i.msg_response),!i.status)return;let f=H(d,m(o("id",r)));k(f),u=f.length})};return e.default.createElement(e.default.Fragment,null,e.default.createElement(T,{of:d,render:(r,s)=>e.default.createElement(v,{md:4,className:s>2?"mt-6":""},e.default.createElement(a,{className:"card-bordered shadow-sm"},e.default.createElement(a.Header,null,e.default.createElement(y,{placement:"top",overlay:e.default.createElement(b,null,o("judul",r))},e.default.createElement("h3",{className:"card-title"},o("judul",r))),e.default.createElement("div",{className:"card-toolbar"},e.default.createElement(n,null,e.default.createElement(n.Toggle,{variant:"light",className:"btn btn-sm"},"Aksi"),e.default.createElement(n.Menu,null,e.default.createElement(n.Item,{onClick:()=>B(r)},"Edit"),e.default.createElement(n.Item,{onClick:()=>M(r)},"Hapus"))))),e.default.createElement(a.Body,null,e.default.createElement("video",{className:"w-100 h-100",controls:!0},e.default.createElement("source",{src:`/video/${o("video_file",r)}`,type:o("video_type",r)}),"Your browser does not support the video tag."))))}),e.default.createElement("div",{ref:t}))},$=x;export{$ as default};
