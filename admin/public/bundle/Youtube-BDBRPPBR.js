import{a as O}from"./chunk-F25MCYSE.js";import{a as N}from"./chunk-WMNEGBG6.js";import{a as D}from"./chunk-SJTF4NYS.js";import{b as E,c as L,d as r,e as a,g as x,o as B}from"./chunk-K5HZLVTK.js";import{f as v,g as y,p as C}from"./chunk-5TOVVIUE.js";import"./chunk-AQBTORL7.js";import"./chunk-T6HN2I3K.js";import"./chunk-ZDGVLX7E.js";import{d as w,e as z}from"./chunk-2ZKIS3S6.js";var t=w(z());var l=0,S=({selectedYoutube:p,setSelectedYoutube:c})=>{let i=(0,t.useRef)(null),[d,$]=(0,t.useState)(!0),[m,g]=(0,t.useState)(!1),[h,b]=(0,t.useState)([]),[u,I]=(0,t.useState)({}),k=(e,o)=>{if(x(e))if(e.includes(a(r("id",o)))){let n=[];e.forEach(s=>{s!==a(r("id",o))&&n.push(s)}),c(n)}else c([...e,a(r("id",o))]);else c([...e,a(r("id",o))])},f=e=>{let o=E(`/getdaftaryoutube?${B(e)}`);o.then(n=>{if(typeof n>"u")return;let{data:s}=n;if(typeof s.code<"u"&&r("code",s)!==200){L(!1,r("message",s));return}r("source",e)&&r("source",e)==="filter"?b(s.listContent):b(P=>P.concat(s.listContent)),l=s.totalData,I({...e,source:""})}),o.finally(()=>{$(!1)})};(0,t.useLayoutEffect)(()=>(f({page:0}),()=>{}),[]),(0,t.useLayoutEffect)(()=>{let e=new IntersectionObserver(o=>{o[0].isIntersecting&&g(!0)},{threshold:1});return i.current&&e.observe(i.current),()=>{i.current&&e.unobserve(i.current)}},[i,h]),(0,t.useLayoutEffect)(()=>(m&&l>h.length&&!d&&f({...u,source:"",page:a(u.page)+1}),()=>g(!1)),[m,l,h,u,d]);let F=e=>{let o=/^.*(?:youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]{11}).*/,n=e.match(o);return n?.[1]?n[1]:null};return t.default.createElement(C,null,t.default.createElement(O,{...{filter:u,setFilter:I,getData:f}}),t.default.createElement(D,{of:h,render:(e,o)=>t.default.createElement(y,{md:4,xs:12,className:`${o>2?"mt-5":""} col-hover ${p.includes(a(r("id",e)))?"col-hover-selected":""}`,style:{cursor:"pointer"},onClick:()=>k(p,e)},t.default.createElement(v.Body,{className:"p-2"},t.default.createElement("h5",{className:"card-title"},r("nama",e)),t.default.createElement(N,{embedId:F(r("link",e))})))}),t.default.createElement("div",{ref:i}))},H=S;export{H as default};
