import{c as b}from"./chunk-4TGKIISG.js";import{a as O,c as S}from"./chunk-DUWXWW73.js";import{c,d as o,e as g,f as M,h as D,j as F,k as I}from"./chunk-5VQXXJVA.js";import{e as v,l as n}from"./chunk-5TOVVIUE.js";import"./chunk-AQBTORL7.js";import"./chunk-T6HN2I3K.js";import"./chunk-ZDGVLX7E.js";import{d as L,e as P}from"./chunk-2ZKIS3S6.js";var t=L(P());var T=({setListContent:k,listContent:x})=>{let{module:d,init:H}=O(a=>a.redux),{openModalEditOrigName:l,detailContent:u}=d,C=S(),[E,y]=(0,t.useState)(!1),[i,m]=(0,t.useState)({}),[_,N]=(0,t.useState)({});(0,t.useLayoutEffect)(()=>(l&&D(u)&&m({...u}),()=>{}),[l,u]);let p=()=>{m({}),N({})},j=()=>{p(),C(b({...d,openModalEditOrigName:!1,detailContent:{}}))},G=a=>{a.preventDefault();let r={user_modified:o("username",H)};Object.keys(i).forEach(s=>r[s]=i[s]),y(!0);let B=I("/updateorigname",r);B.then(s=>{if(typeof s>"u")return;let{data:e}=s;if(typeof e.code<"u"&&o("code",e)!==200){c(!1,o("message",e));return}if(N(e.errors),c(e.status,e.msg_response),!e.status)return;let f=[];x.map(h=>{g(o("id",h))===g(r.id)?f.push({...h,origname:o("origname",i)}):f.push(h)}),k(f),p(),C(b({...d,openModalEditOrigName:!1,detailContent:{}}))}),B.finally(()=>{y(!1)})};return t.default.createElement(n,{show:l,onHide:p,backdrop:"static"},t.default.createElement(n.Header,null,t.default.createElement(n.Title,null,"Perbaharui Nama File")),t.default.createElement(n.Body,null,F("Nama File","origname",{onChange:a=>m(r=>({...r,[a.target.name]:a.target.value})),value:o("origname",i)},!0,_)),t.default.createElement(n.Footer,null,t.default.createElement(v,null,M("Simpan",E,{onClick:E?null:G}),M("Batal",!1,{variant:"danger",onClick:()=>j()}))))},J=T;export{J as default};
