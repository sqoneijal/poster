import{a as K}from"./chunk-MUZTHDHO.js";import{a as G}from"./chunk-SJTF4NYS.js";import{c as k,e as E}from"./chunk-ORPF6BBH.js";import{a as P}from"./chunk-LOOOLLH5.js";import{a as V,c as Y}from"./chunk-DUWXWW73.js";import{c as x,d as a,f as w,g as r,h as j,k as A}from"./chunk-K5HZLVTK.js";import{e as _,f as l}from"./chunk-5TOVVIUE.js";import"./chunk-AQBTORL7.js";import"./chunk-T6HN2I3K.js";import"./chunk-ZDGVLX7E.js";import{d as O,e as q}from"./chunk-2ZKIS3S6.js";var e=O(q());var s=O(K());var Q=e.default.lazy(()=>import("./Images-UTTD4RPK.js")),U=e.default.lazy(()=>import("./Video-YCGXTDR5.js")),X=e.default.lazy(()=>import("./Youtube-BDBRPPBR.js")),Z=e.default.lazy(()=>import("./RunningText-EPOWTDBY.js")),R=e.default.lazy(()=>import("./Pengumuman-LQG5WXJS.js")),ee=()=>{let{module:d,init:H,filter:$}=V(n=>n.redux),{openFormsContent:u,detailContent:t}=d,m=Y(),[F,L]=(0,e.useState)(!1),[p,c]=(0,e.useState)([]),[f,v]=(0,e.useState)([]),[g,h]=(0,e.useState)([]),[b,y]=(0,e.useState)([]),[C,N]=(0,e.useState)([]),[B,I]=(0,e.useState)(1);(0,e.useLayoutEffect)(()=>(u&&j(t)&&(c(t.images),v(t.video),h(t.youtube),y(t.running_text),N(t.pengumuman)),()=>{}),[u,t]);let T=()=>{c([]),v([]),h([]),y([]),N([]),I(1)},z=()=>{T(),m(k({...d,openFormsContent:!1,detailContent:{}}))},M=n=>{n.preventDefault();let S={id:a("id",t),user_modified:a("username",H),images:JSON.stringify(r(p)?p:[]),video:JSON.stringify(r(f)?f:[]),youtube:JSON.stringify(r(g)?g:[]),running_text:JSON.stringify(r(b)?b:[]),pengumuman:JSON.stringify(r(C)?C:[])};L(!0);let D=A("/submitcontent",S);D.then(J=>{if(typeof J>"u")return;let{data:o}=J;if(typeof o.code<"u"&&a("code",o)!==200){x(!1,a("message",o));return}x(o.status,o.msg_response),o.status&&(T(),m(k({...d,openFormsContent:!1,detailContent:{}})),m(E({url:"/getdata",data:{...$}})))}),D.finally(()=>{L(!1)})},W=[{value:1,label:"Images"},{value:2,label:"Video"},{value:3,label:"Youtube"},{value:4,label:"Running Text"},{value:5,label:"Pengumuman"}],i={selectedImages:p,setSelectedImages:c,selectedVideo:f,setSelectedVideo:v,selectedYoutube:g,setSelectedYoutube:h,selectedRunningText:b,setSelectedRunningText:y,selectedPengumuman:C,setSelectedPengumuman:N};return e.default.createElement(e.default.Fragment,null,u&&e.default.createElement("div",{className:"drawer-overlay"}),e.default.createElement("div",{className:`bg-white drawer drawer-start ${u?"drawer-on":""}`,style:{width:window.innerWidth/2}},e.default.createElement(l,{className:"rounded-0 w-100"},e.default.createElement(l.Header,{className:"pe-5"},e.default.createElement("div",{className:"card-title"},e.default.createElement("div",{className:"d-flex justify-content-center flex-column me-3"},e.default.createElement("span",{className:"fs-4 fw-bold text-gray-900 text-hover-primary me-1 lh-1"},"Daftar Content"))),e.default.createElement("div",{className:"card-toolbar"},e.default.createElement("button",{className:"btn btn-sm btn-icon btn-active-light-primary",onClick:z},e.default.createElement("i",{className:"ki-duotone ki-cross fs-2"},e.default.createElement("span",{className:"path1"}),e.default.createElement("span",{className:"path2"}))))),e.default.createElement(l.Body,{className:"hover-scroll-overlay-y"},e.default.createElement("ul",{className:"nav nav-tabs nav-line-tabs mb-5 fs-6"},e.default.createElement(G,{of:W,render:n=>e.default.createElement("li",{className:"nav-item"},e.default.createElement("a",{className:`nav-link ${B===a("value",n)?"active":""}`,"data-bs-toggle":"tab",href:"#",onClick:S=>{S.preventDefault(),I(a("value",n))}},a("label",n)))})),e.default.createElement("div",{className:"tab-content"},e.default.createElement("div",{className:"tab-pane fade show active",role:"tabpanel"},e.default.createElement(e.default.Suspense,{fallback:e.default.createElement(P,{visible:!0,color:"#4fa94d",radius:"9",wrapperStyle:{alignItems:"center",display:"flex",justifyContent:"center"},wrapperClass:"page-loader flex-column bg-dark bg-opacity-25"})},e.default.createElement(s.default,{condition:B},e.default.createElement(s.Case,{value:1},e.default.createElement(Q,{...i})),e.default.createElement(s.Case,{value:2},e.default.createElement(U,{...i})),e.default.createElement(s.Case,{value:3},e.default.createElement(X,{...i})),e.default.createElement(s.Case,{value:4},e.default.createElement(Z,{...i})),e.default.createElement(s.Case,{value:5},e.default.createElement(R,{...i}))))))),e.default.createElement(l.Footer,{className:"text-end"},e.default.createElement(_,null,w("Simpan",F,{onClick:F?null:M}),w("Batal",!1,{variant:"danger",onClick:()=>z()}))))))},ie=ee;export{ie as default};
