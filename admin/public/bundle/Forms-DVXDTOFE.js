import{c as v}from"./chunk-4TGKIISG.js";import{a as j,c as k}from"./chunk-DUWXWW73.js";import{a as T,c as h,d as n,f as g,h as D,i as $,j as E,k as G}from"./chunk-5VQXXJVA.js";import{e as S,f as r,o as P}from"./chunk-5TOVVIUE.js";import"./chunk-AQBTORL7.js";import"./chunk-T6HN2I3K.js";import"./chunk-ZDGVLX7E.js";import{d as J,e as O}from"./chunk-2ZKIS3S6.js";var e=J(O());var U=({setListContent:H})=>{let{module:m,init:I,filter:V}=j(o=>o.redux),{openForms:b,pageType:i,detailContent:u}=m,y=k(),[C,N]=(0,e.useState)(!1),[p,l]=(0,e.useState)({}),[w,F]=(0,e.useState)({}),[c,d]=(0,e.useState)(0);(0,e.useLayoutEffect)(()=>(i==="update"&&D(u)&&l({...u}),()=>{}),[i,u]);let x=()=>{l({}),F({})},B=()=>{d(0),x(),y(v({...m,openForms:!1,pageType:"",detailContent:{}}))},L=o=>{o.preventDefault();let s={pageType:i,user_modified:n("username",I)};Object.keys(p).forEach(a=>s[a]=p[a]);let f={onUploadProgress(a){let t=Math.round(a.loaded*100/a.total);d(t)}};N(!0);let _=G("/submit",s,f);_.then(a=>{if(typeof a>"u")return;let{data:t}=a;if(typeof t.code<"u"&&n("code",t)!==200){h(!1,n("message",t));return}F(t.errors),h(t.status,t.msg_response),t.status&&(d(0),x(),y(v({...m,openForms:!1,pageType:"",detailContent:{}})),H(M=>M.concat(t.content)))}),_.finally(()=>{N(!1),d(0)})};return e.default.createElement(e.default.Fragment,null,b&&e.default.createElement("div",{className:"drawer-overlay"}),e.default.createElement("div",{className:`bg-white drawer drawer-start ${b?"drawer-on":""}`,style:{width:window.innerWidth/2}},e.default.createElement(r,{className:"rounded-0 w-100"},e.default.createElement(r.Header,{className:"pe-5"},e.default.createElement("div",{className:"card-title"},e.default.createElement("div",{className:"d-flex justify-content-center flex-column me-3"},e.default.createElement("span",{className:"fs-4 fw-bold text-gray-900 text-hover-primary me-1 lh-1"},$(i)," ",document.title))),e.default.createElement("div",{className:"card-toolbar"},e.default.createElement("button",{className:"btn btn-sm btn-icon btn-active-light-primary",onClick:B},e.default.createElement("i",{className:"ki-duotone ki-cross fs-2"},e.default.createElement("span",{className:"path1"}),e.default.createElement("span",{className:"path2"}))))),e.default.createElement(r.Body,{className:"hover-scroll-overlay-y"},E("Judul","judul",{onChange:o=>l(s=>({...s,[o.target.name]:o.target.value})),value:n("judul",p)},!0,w),T("Video File","video_file",{onChange:o=>{let s=o.target.files;s.length>0&&l(f=>({...f,video_file:s[0].name,file:s[0]}))}},!0,w),c>0&&e.default.createElement(P,{now:c,animated:!0,label:`${c}%`})),e.default.createElement(r.Footer,{className:"text-end"},e.default.createElement(S,null,g(`Simpan ${document.title}`,C,{onClick:C?null:L}),g("Batal",!1,{variant:"danger",onClick:()=>B()}))))))},K=U;export{K as default};
